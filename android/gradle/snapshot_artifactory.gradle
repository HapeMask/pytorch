def getArtifactoryBintrayUsername() {
    return project.hasProperty('bintrayUsername') ? property('bintrayUsername') : System.getenv('BINTRAY_USERNAME')
}

def getArtifactoryBintrayApiKey() {
    return project.hasProperty('bintrayApiKey') ? property('bintrayApiKey') : System.getenv('BINTRAY_API_KEY')
}

artifactory {
    contextUrl = 'https://oss.jfrog.org'

    publish {
        repository {
            repoKey = "libs-snapshot-local"

            username = getArtifactoryBintrayUsername()
            password = getArtifactoryBintrayApiKey()
        }
        defaults {
            publishConfigs("archives")
        }
    }
}

